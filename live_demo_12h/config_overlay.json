{
  "__DEPRECATED__": "This file is merged into live_demo/config.json. Prefer updating 'overlay', 'alignment', 'logging', and related blocks in config.json. This file will be removed once callers are updated.",
  "data": {
    "symbol": "BTCUSDT",
    "interval": "5m",
    "warmup_bars": 1000,
    "overlays": ["15m", "1h"]
  },
  "overlay": {
    "enabled": true,
    "timeframes": ["15m", "1h"],
    "rollup_windows": {
      "15m": 3,
      "1h": 12
    },
    "weights": {
      "5m": 0.5,
      "15m": 0.3,
      "1h": 0.2
    },
    "alignment_rules": {
      "require_5m_15m_agreement": true,
      "allow_1h_override": true,
      "neutral_1h_override": true,
      "min_confidence": 0.60,
      "min_alpha": 0.10,
      "neutral_band": 0.05
    },
    "signal_thresholds": {
      "min_confidence": 0.60,
      "min_alpha": 0.10,
      "neutral_band": 0.05
    }
  },
  "exchanges": {
    "active": "mainnet",
    "binance_testnet": {
      "api_key": "0ZkZfT8bqHtOCKUDyIPe1z4Ynca6VVumZ8RQOywI7dDSLRt9Bq18SsRWXHkk25T5",
      "api_secret": "wYAYD0xjRK7XXYanT1cZP4waqKynJv4Io8F8fBDcCobsI8rfVjZ1QLfsPYJFyEVF",
      "base_url": "https://testnet.binancefuture.com"
    },
    "binance_mainnet": {
      "api_key": "",
      "api_secret": "",
      "base_url": "https://fapi.binance.com"
    },
    "hyperliquid": {
      "base_url": "https://api.hyperliquid.xyz/info",
      "ws_url": "wss://api.hyperliquid.xyz/ws",
      "funding": {
        "mode": "settled",
        "epoch_hours": 8,
        "ttl_seconds": 600,
        "path": "/v1/funding",
        "key_time": "time",
        "key_rate": "funding"
      }
    }
  },
  "cohorts": {
    "top_file": "live_demo/top_cohort.csv",
    "bottom_file": "live_demo/bottom_cohort.csv",
    "weights_file": "paper_trading_outputs/models/weights_daily.csv",
    "smoothing_gamma": 0.6,
    "adv_window_days": 20,
    "window": 12
  },
  "thresholds": {
    "S_MIN": 0.12,
    "M_MIN": 0.12,
    "CONF_MIN": 0.60,
    "ALPHA_MIN": 0.10,
    "flip_mood": true,
    "flip_model": true,
    "allow_model_only_when_mood_neutral": true
  },
  "alerts": {
    "ic_drift": {
      "warning": -0.03,
      "critical": -0.05,
      "check_interval_bars": 12
    },
    "drawdown": {
      "warning": -0.02,
      "critical": -0.03,
      "check_interval_bars": 1
    },
    "costs": {
      "warning": 7.0,
      "critical": 10.0,
      "check_interval_bars": 12
    },
    "capacity": {
      "warning": 0.015,
      "critical": 0.03,
      "check_interval_bars": 12
    },
    "overlay_alignment": {
      "warning": 0.3,
      "critical": 0.5,
      "check_interval_bars": 6
    },
    "timeframe_conflict": {
      "warning": 0.2,
      "critical": 0.4,
      "check_interval_bars": 12
    }
  },
  "health": {
    "ic_window": 200,
    "vol_window": 20,
    "hit_rate_window": 100,
    "pnl_window": 252
  },
  "risk": {
    "sigma_target": 0.15,
    "pos_max": 1.0,
    "cooldown_bars": 1,
    "realized_vol_window": 50,
    "base_notional": 25000.0,
    "vol_floor": 0.3,
    "adv_cap_pct": 1.5,
    "rebalance_min_pos_delta": 0.01,
    "daily_stop_dd_pct": 1.5,
    "warmup_skip_bars": 0,
    "cost_bps": 5.0,
    "slippage_bps": 2.0,
    "impact_k": 0.5
  },
  "costs": {
    "cost_bps": 5.0,
    "impact_k": 0.0,
    "slippage_bps": 0.0
  },
  "execution": {
    "dry_run": true,
    "one_shot": false,
    "force_validation_trade": false,
    "health_emit_every_bars": 60,
    "health_pred_window": 60,
    "mode": "market",
    "passive_timeout_s": 10,
    "bandit": {
      "enabled": true,
      "state_path": "paper_trading_outputs/runtime_bandit.json",
      "epsilon": 0.05,
      "model_optimism": 0.03
    }
  },
  "microstructure": {
    "enable": true,
    "max_spread_bps": 5.0,
    "min_book_qty": 0.0
  },
  "sheets": {
    "sheet_id": "1Fk9HGfUKaEOcN3DIqZOBQkTYuMzDFdAqE9eUOijKPLs",
    "creds_json": "live_demo_12h/metastackerbandit1-478b6face97d.json",
    "tabs": {
      "hyperliquid": "hyperliquid_sheet",
      "signals": "signals",
      "mirror": "log_mirror",
      "bandit": "bandit",
      "executions": "executions_paper",
      "equity": "equity",
      "health": "health_metrics",
      "alerts": "system_alerts",
      "pnl": "pnl_analysis",
      "overlay": "overlay_signals"
    }
  },
  "logging": {
    "retention_days": 30,
    "base_dir": "../paper_trading_outputs/logs",
    "formats": {
      "market": ["ts_ist", "asset", "bar_id", "mid", "bid1", "ask1", "spread_bps", "rv_1h"],
      "signals": ["ts_ist", "asset", "bar_id", "S_top", "S_bot", "F_top_norm", "F_bot_norm"],
      "ensemble": ["ts_ist", "asset", "bar_id", "pred_stack", "pred_bma", "bandit_arm", "ic_200"],
      "health": ["ts_ist", "Sharpe_roll_1d", "max_dd_to_date", "ic_drift"],
      "overlay": ["ts_ist", "asset", "bar_id", "direction", "alpha", "confidence", "alignment_rule", "chosen_timeframes"]
    }
  },
  "artifacts": {
    "latest_manifest": "live_demo/models/LATEST.json"
  },
  "paper": {
    "starting_equity": 10000.0
  }
}
